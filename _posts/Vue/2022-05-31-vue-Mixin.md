# Mixins

*ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ ê°„ì— ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ìˆëŠ” ë¡œì§ ê¸°ëŠ¥ë“¤ì„ ì¬ì‚¬ìš©í•˜ëŠ” ë°©ë²•*

<br/>

## ğŸ“Œ ë¯¹ìŠ¤ì¸ì— ì •ì˜í•  ìˆ˜ ìˆëŠ” ì¬ì‚¬ìš© ë¡œì§
---

- **data**
- **methods**
- **created**
- ë“±ê³¼ ê°™ì€ ì»´í¬ë„ŒíŠ¸ ì˜µì…˜

<br/>
<br/>

## ğŸ’» ë¯¹ìŠ¤ì¸ ì½”ë“œ í˜•ì‹
---

```js
var HelloMixins = {
  // ì»´í¬ë„ŒíŠ¸ ì˜µì…˜ (data, methods, created ë“±)
};

new Vue({
  mixins: [HelloMixins]
})
```

> ë¯¹ìŠ¤ì¸ì„ ì£¼ì…í•  ì»´í¬ë„ŒíŠ¸ì— `mixins` ì†ì„±ì„ ì„ ì–¸í•˜ê³ , 
> ë°°ì—´ `[]` ì•ˆì— ì£¼ì…í•  ë¯¹ìŠ¤ì¸ë“¤ì„ ì¶”ê°€ 

<br/>
<br/>

## ğŸ‘€ ë¯¹ìŠ¤ì¸ ì‚¬ìš© ì˜ˆì‹œ
---

*ë‹¤ì´ì–¼ë¡œê·¸(ëª¨ë‹¬ or íŒì—… ì°½)ì˜ ì—´ê¸°, ë‹«ê¸° ë¡œì§ì„ ë¯¹ìŠ¤ì¸ì— ì •ì˜*

```js
var DialogMixin = {
  data() { // ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë°ì´í„°
    return {
      dialog: false
    }
  },
  methods: { // ë‹¤ì´ì–¼ë¡œê·¸ ì—´ê³  ë‹«ëŠ” ë©”ì„œë“œ
    showDialog() {
      this.dialog = true;
    },
    closeDialog() {
      this.dialog = false;
    }
  }
};
```

<br/>

*ë¯¹ìŠ¤ì¸ ì»´í¬ë„ŒíŠ¸ì— ì£¼ì…*

```html
<!-- LoginForm.vue -->
<script>
import { DialogMixin } from './mixins.js';

export default {
  // ..
  mixins: [ DialogMixin ]
  methods: {
    submitForm() { // HTTP POST ìš”ì²­ ë³´ë‚´ë©´
      axios.post('login', {
        id: this.id,
        pw: this.pw
      })
      .then(() => this.closeDialog()) // ë‹«ê¸° ë©”ì„œë“œ í˜¸ì¶œ
      .catch((error) => new Error(error));
    }
  }
}
</script>
```

- ì»´í¬ë„ŒíŠ¸ ì½”ë“œ ê¹”ë”í•˜ê²Œ ì •ë¦¬ ê°€ëŠ¥.
  
- ë‹¤ì´ì–¼ë¡œê·¸ë‚˜ ìŠ¤í”¼ë„ˆ ë„ê³  ì¼œëŠ” ê¸°ëŠ¥ì€ ë¯¹ìŠ¤ì¸ ì‚¬ìš©ì‹œ íš¨ìœ¨ì´ ì¢‹ìŒ. 
  
- ì»´í¬ë„ŒíŠ¸ì—ì„œ CRUD ê´€ë ¨ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ë§Œ ê´€ë¦¬í•  ìˆ˜ ìˆìŒ.
  
- ë°ì´í„° íŒ¨ì¹­ì´ë‚˜ ë¶€ì°¨ì ì¸ ë„êµ¬ì˜ ë¡œì§ë§Œ ë¹¼ì„œ ë¯¹ìŠ¤ì¸ì—ì„œ ì‚¬ìš©.
  
- ë•Œì— ë”°ë¼ì„œëŠ” CRUD ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ë„ ê³µí†µ ì»´í¬ë„ŒíŠ¸í™” ê°€ëŠ¥.

<br/>
<br/>
<br/>

# âŒ¨ êµ¬í˜„í•˜ê¸°
---

1. **`/src` ë””ë ‰í† ë¦¬ì— `/mixins` ë””ë ‰í† ë¦¬ ìƒì„±**

<br/>

2. **`/mixins/ListMixin.js` ìƒì„±**
   - ë¯¹ìŠ¤ì¸ì€ êµ¬ì²´ì ìœ¼ë¡œ ë„¤ì´ë° 
   - ex) `DataFetchingMixin.js`

<br/>

3. **`ListMixin.js`ì— ìŠ¤í”¼ë„ˆì²˜ë¦¬ëœ ë°ì–´í„° íŒ¨ì¹­**

    ```js
    import bus from '../utils/bus.js';

    // mixin
    export default {
      // ì¬ì‚¬ìš©í•  ì»´í¬ë„ŒíŠ¸ ì˜µì…˜ & ë¡œì§
      created() {
        bus.$emit('start:spinner');
        this.$store.dispatch('FETCH_LIST', this.$route.name)
          .then(() => {
            console.log('fetched');
            bus.$emit('end:spinner');
          })
          .catch((error) => {
            console.log(error);
          });
      },
    }


    // hocì™€ êµ¬ì¡°ì ìœ¼ë¡œ ê°™ìŒ

    // hoc
    // export default function create() {
    //   // ì¬ì‚¬ìš©í•  ì»´í¬ë„ŒíŠ¸ ì˜µì…˜ & ë¡œì§
    // }
    ```

<br/>

4. **`NewsView.vue`ì— `mixins` ì ìš©**

    ```html
    <template>
      <div>
        <list-item></list-item>
      </div>
    </template>

    <script>
    import ListItem from "../components/ListItem.vue";
    // import bus from '../utils/bus.js';
    import ListMixin from "../mixins/ListMixin.js";

    export default {
      components: {
        ListItem,
      },
      mixins: [ListMixin],

      // JobsView, AskView ë™ì¼
      // ë¯¹ìŠ¤ì¸ì—ì„œ ì²˜ë¦¬ë˜ê¸° ë•Œë¬¸ì— ë°ì´í„°íŒ¨ì¹­ ì£¼ì„ì²˜ë¦¬
      
      // created() {
      //   bus.$emit("start:spinner");
      //   this.$store
      //     .dispatch("FETCH_NEWS")
      //     .then(() => {
      //       console.log("fetched");
      //       bus.$emit("end:spinner");
      //     })
      //     .catch((error) => {
      //       console.log(error);
      //     });
      // },
    };
    </script>
    ```

<br/>

5. **`/route/index.js`ì—ì„œ HOCì²˜ë¦¬ í–ˆë˜ ì½”ë“œ ë‹¤ì‹œ ë¦¬ì…‹**

    ```js
    import Vue from 'vue';
    import VueRouter from 'vue-router';
    import NewsView from '../views/NewsView.vue';
    import AskView from '../views/AskView.vue';
    import JobsView from '../views/JobsView.vue';
    import UserView from '../views/UserView';
    import ItemView from '../views/ItemView';
    // import createListView from '../views/CreateListView';

    Vue.use(VueRouter);

    export const router = new VueRouter({
      mode: 'history',
      routes: [
        {
          path: '/',
          redirect: '/news',
        },
        {
          path: '/news',
          name: 'news',
          component: NewsView,
          // component: createListView('NewsView'),
        },
        {
          path: '/ask',
          name: 'ask',
          component: AskView,
          // component: createListView('AskView'),
        },
        {
          path: '/jobs',
          name: 'jobs',
          component: JobsView,
          // component: createListView('JobsView'),
        },
        {
          path: '/user/:id',
          component: UserView,
        },
        {
          path: '/item/:id',
          component: ItemView,
        },
      ]
    });
    ```

<br/>

> HOC ì²˜ë¦¬ë¥¼ í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— í•´ë‹¹ í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ ë°‘ì— `<ListView>` ê°€ ì•„ë‹Œ ë°”ë¡œ `<ListItem>` ì„ í˜¸ì¶œí•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. 