# ğŸ™â€â™‚ï¸ ì‚¬ìš©ì ê²½í—˜ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ë°ì´í„° í˜¸ì¶œ ì‹œì 

<br/>

> ğŸ“Œ TIP
> ESLint ì„¤ì •
> 
> `Ctrl` + `,` 
> 
> ìƒë‹¨ ìš°ì¸¡ ì„¸ë²ˆì§¸ ì•„ì´ì½˜ (`settings.json`) ì§„ì…
>   
> `settings.json` í•˜ë‹¨ì— ì•„ë˜ ì½”ë“œ ì¶”ê°€
```js
"editor.codeActionsOnSave": {
  "source.fixAll.eslint": true // ES Lint ì €ì¥ ì‹œ ìë™ fix ì„¤ì •
},
"editor.formatOnSave": true,// document formatting ìë™ fix ì„¤ì •
```

<br/>

## ğŸ• Vue.jsì˜ ë°ì´í„° í˜¸ì¶œ ì‹œì 
---

1. ë¼ìš°í„° ë„¤ë¹„ê²Œì´ì…˜ ê°€ë“œ
    - íŠ¹ì • URLë¡œ ì ‘ê·¼í•˜ê¸° ì „ì˜ ë™ì‘ì„ ì •ì˜í•˜ëŠ” ì†ì„±(í•¨ìˆ˜)

2. ì»´í¬ë„ŒíŠ¸ ë¼ì´í”„ ì‚¬ì´í´ í›…
    - `created` ì†ì„± : (ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„±)ë˜ìë§ˆì í˜¸ì¶œë˜ëŠ” ë¡œì§

<br/>
<br/>

### ğŸº Component Lifecycle Hooks
---

*ì½”ë“œ ì£¼ì„ ë²ˆí˜¸ ì°¸ì¡° `// #(number)`*

<br/>

1. `/mixins/ListMixin.js` 
    ```js
    import bus from '../utils/bus.js';

    export default {
      created() {
        bus.$emit('start:spinner');
        // #1
        this.$store.dispatch('FETCH_LIST', this.$route.name)
          .then(() => {
            console.log('fetched');
            bus.$emit('end:spinner');
          })
          .catch((error) => {
            console.log(error);
          });
      },
    }
    ```

<br/>

2. `/store/actions.js`
    ```js
    // #2
    FETCH_LIST({ commit }, pageName) {
      // #3
      return fetchList(pageName)
        .then(response => {
          // #4
          console.log(4);
          commit('SET_LIST', response.data)
          return response;
        })
        .catch(error => console.log(error));
    },
    ```

    > FETCH_LISTì˜ ê²°ê³¼ê°’ì„ ë¦¬í„´í•´ì„œ 
    >
    > ListMixin.jsì— í”„ë¡œë¯¸ìŠ¤(.then)ë¡œ ì²´ì´ë‹ í•´ì¤Œ.

    <br/>

3. `/mixins/ListMixin.js` 
    ```js
    created() {
        bus.$emit('start:spinner');
        // #1
        this.$store.dispatch('FETCH_LIST', this.$route.name)
          .then(() => {
            // #5
            console.log(5);
            console.log('fetched');
            bus.$emit('end:spinner');
          })
          .catch((error) => {
            console.log(error);
          });
      },
    ```

<br/>
<br/>

### ğŸº Router Navigation Guard
---

`/routes/index.js` ì˜ `routes: []` ì†ì„±ì— ì¶”ê°€

```js
{
  path: '/news',
  name: 'news',
  // component: createListView('NewsView'),
  component: NewsView,

  // ë¼ìš°í„° ë„¤ë¹„ê²Œì´ì…˜ ê°€ë“œ
  beforeEnter: (to, from, next) => {
    console.log('to', to); // ì´ë™í•  URLì˜ ë¼ìš°íŒ… ì •ë³´
    console.log('from', from); // í˜„ì¬ URLì˜ ë¼ìš°íŒ… ì •ë³´
    console.log(next); // function
    next(); // nextí˜¸ì¶œ í•´ì¤˜ì•¼ì§€ë§Œ í•´ë‹¹ URLë¡œ ì´ë™ ê°€ëŠ¥. 
  },
},
```

<br/>
<br/>

### âŒ¨ êµ¬í˜„í•˜ê¸°
---

`/routes/index.js`

```js
import Vue from 'vue';
import VueRouter from 'vue-router';
import NewsView from '../views/NewsView.vue';
import AskView from '../views/AskView.vue';
import JobsView from '../views/JobsView.vue';
import UserView from '../views/UserView';
import ItemView from '../views/ItemView';
// import createListView from '../views/CreateListView';
import bus from '../utils/bus.js'; // ë¼ìš°í„° ë„¤ë¹„ê²Œì´ì…˜ì— ìŠ¤í”¼ë„ˆ ì¶”ê°€
import { store } from '../store/index.js'; // store ë°”ë¡œ ì ‘ê·¼ 

Vue.use(VueRouter);

export const router = new VueRouter({
  mode: 'history',
  routes: [
    {
      path: '/',
      redirect: '/news',
    },
    {
      path: '/news',
      name: 'news',
      // component: createListView('NewsView'),
      component: NewsView,

      // ë¼ìš°í„° ë„¤ë¹„ê²Œì´ì…˜ ê°€ë“œ
      beforeEnter: (to, from, next) => {
        bus.$emit('start:spinner');
        console.log(to); // to ì´ìš©í•´ ì–´ë””ë¡œ ê°ˆì§€ í™•ì¸ ê°€ëŠ¥
        store.dispatch('FETCH_LIST', to.name)
          .then(() => {
            console.log('fetched');
            bus.$emit('end:spinner');
            next(); // fetched ë˜ê³  ìŠ¤í”¼ë„ˆ ëŒê³ ë‚˜ë©´ í˜ì´ì§€ ì´ë™
          })
          .catch((error) => {
            console.log(error);
          });
      },
    },
    {
      path: '/ask',
      name: 'ask',
      // component: createListView('AskView'),
      component: AskView,
    },
    {
      path: '/jobs',
      name: 'jobs',
      // component: createListView('JobsView'),
      component: JobsView,
    },
    {
      path: '/user/:id',
      component: UserView,
    },
    {
      path: '/item/:id',
      component: ItemView,
    },
  ]
});
```

<br/>

`/views/NewsView.vue`
```html
<template>
  <div>
    <list-item></list-item>
  </div>
</template>

<script>
import ListItem from "../components/ListItem.vue";
// import ListMixin from "../mixins/ListMixin.js";

export default {
  components: {
    ListItem,
  },
  // mixins: [ListMixin],
  // ë¼ìš°í„°ì—ì„œ ë„¤ë¹„ê²Œì´ì…˜ ê°€ë“œë¡œ ì²˜ë¦¬í–ˆê¸° ë•Œë¬¸ì— mixinì£¼ì„ì²˜ë¦¬
};
</script>
```

> ë¼ìš°í„° ë„¤ë¹„ê²Œì´ì…˜ ê°€ë“œ ì‚¬ìš© ì‹œ,
> > ë°ì´í„° íŒ¨ì¹­ì´ ì™„ë£Œë˜ê³  í™”ë©´ ì´ë™ì„ ì¤„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê¹”ë”í•œ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‚˜, ìŠ¤í”¼ë„ˆë‚˜ ë¡œë”©ë°” ê°™ì€ UIì»´í¬ë„ŒíŠ¸ ë„êµ¬ë“¤ì´ í•„ìš”í•˜ë‹¤. 

> ìŠ¤í”¼ë„ˆ ê°™ì€ UXì²˜ë¦¬ê°€ ì—†ì„ ê²½ìš°, 
> > ì‚¬ìš©ìëŠ” ë°ì´í„°ë¥¼ ë¡œë”©ì¤‘ì¸ ê²ƒì¸ì§€ ë¡œë”©ì´ ì™„ë£Œëœ ê²ƒì¸ì§€ ì•Œ ìˆ˜ ì—†ë‹¤.

> 1. í˜ì´ì§€ ì „í™˜ ì‹œ ë°ì´í„°ë¥¼ ë‹¤ ë°›ì•„ì˜¤ê³  í™”ë©´ì— ë¿Œë¦¬ê¸°.
> 2. í˜ì´ì§€ë¨¼ì € ì „í™˜í•˜ê³  ë°ì´í„°ë¥¼ ì¶”ê°€ì ìœ¼ë¡œ ë¿Œë¦¬ê¸°.

<br/>
<br/>

> ğŸ“ŒTIP
> 
> ì“°ë¡œí‹€ë§ ê±¸ê¸°
> 
> í¬ë¡¬  `F12` -> `Network` íƒ­ ->  `No throttling` ì„ íƒìƒì -> `Slow 3G`

<br/>
<br/>

### ğŸº í˜ì´ì§€ ì´ë™ì‹œ ìŠ¤í”¼ë„ˆ ì»¨íŠ¸ë¡¤
---

`/routes/index.js`
```js
{
  path: '/ask',
  name: 'ask',
  // component: createListView('AskView'),
  component: AskView,

  beforeEnter: (to, from, next) => {
    bus.$emit('start:spinner');
    store.dispatch('FETCH_LIST', to.name)
      .then(() => {
        console.log('fetched');
        // bus.$emit('end:spinner');
        // ë¼ìš°í„°ì—ì„œ ì²˜ë¦¬í•  ê²½ìš° ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ê³ ë„ ìŠ¤í”¼ë„ˆê°€ ë„ëŠ” ê²½ìš°ê°€ ìˆìŒ.
        // AskViewì—ì„œ ë§ˆìš´í‹°ë“œ ì†ì„± ì´ìš©í•´ ì²˜ë¦¬í•˜ë©´ ì»¨íŠ¸ë¡¤ê°€ëŠ¥.
        next();
      })
      .catch((error) => {
        console.log(error);
      });
  },
},
```

<br/>

`AskView.vue`
```html
<template>
  <div>
    <list-item></list-item>
  </div>
</template>

<script>
import ListItem from "../components/ListItem.vue";
// import ListMixin from "../mixins/ListMixin.js";
import bus from "../utils/bus.js";

export default {
  components: {
    ListItem,
  },
  // ì¸ìŠ¤í„´ìŠ¤ê°€ í™”ë©´ì— ë¶ˆëŸ¬ì™€ì„œ ë‚˜íƒ€ë‚¬ì„ ë•Œ í˜¸ì¶œë˜ëŠ” ë¼ì´í”„ì‚¬ì´í´ í›…
  mounted() {
    bus.$emit("end:spinner"); // ìŠ¤í”¼ë„ˆì²˜ë¦¬
  },
  // mixins: [ListMixin],
};
</script>
```

> ë¼ìš°í„°ì—ì„œ ìŠ¤í”¼ë„ˆ ì²˜ë¦¬ì‹œ ë°ì´í„°ë¥¼ ë‹¤ ë¶ˆëŸ¬ì˜¤ê³ ë„ ìŠ¤í”¼ë„ˆê°€ ê³„ì† ë„ëŠ” ê²½ìš°ê°€ ìˆë‹¤.
> 
> View ì»´í¬ë„ŒíŠ¸ì—ì„œ `mounted` ì†ì„± ì´ìš©í•´ ì²˜ë¦¬í•˜ë©´ ì¢€ë” ë¯¸ì„¸í•˜ê²Œ ì»¨íŠ¸ë¡¤ì´ ê°€ëŠ¥í•˜ë‹¤.

<br/>
<br/>

### ğŸº Mixin ì´ìš©í•œ ì½”ë“œ ì •ë¦¬
---

`ListMixin.js`
```js
import bus from '../utils/bus.js';

export default {
  // ì¬ì‚¬ìš©í•  ì»´í¬ë„ŒíŠ¸ ì˜µì…˜ & ë¡œì§
  mounted() {
    bus.$emit("end:spinner");
  },
}
```

<br/>

`AskView.vue`
```html
<template>
  <div>
    <list-item></list-item>
  </div>
</template>

<script>
import ListItem from "../components/ListItem.vue";
import ListMixin from "../mixins/ListMixin.js";
// import bus from "../utils/bus.js";

export default {
  components: {
    ListItem,
  },
  // mounted() {
  //   bus.$emit("end:spinner");
  // },
  // Mixinìœ¼ë¡œ ë™ì¼ ì½”ë“œ ì¬í™œìš©
  mixins: [ListMixin],
};
</script>
```

> `NewsView.vue / JobsView.vue` ë™ì¼ ì ìš©.
