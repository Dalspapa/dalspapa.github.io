# ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ëª¨ë“ˆí™”
---

*Vue.js ê´€ë ¨ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì—†ì„ ë•Œ ì¼ë°˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê²°í•©í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.*

- ì°¨íŠ¸
- í…Œì´ë¸”
- ìŠ¤í”¼ë„ˆ
- ë°ì´íŠ¸ í”¼ì»¤ ë“±

<br/>

## ğŸ”¨ Chart.js ì„¤ì¹˜
---

1. ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ NPMìœ¼ë¡œ ì„¤ì¹˜
2. ì„¤ì¹˜ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ importë¡œ App.vueì—ì„œ ë¡œë”©
3. mounted() ë¼ì´í”„ ì‚¬ì´í´ í›…ì—ì„œ ì°¨íŠ¸ë¥¼ ê·¸ë¦¼ (ref ì†ì„±)
4. ì°¨íŠ¸ë¥¼ ì»´í¬ë„ŒíŠ¸í™”
5. ì»´í¬ë„ŒíŠ¸ì˜ í”ŒëŸ¬ê·¸ì¸í™”
6. ì»´í¬ë„ŒíŠ¸ í†µì‹ ì„ ì´ìš©í•œ ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸ ê¸°ëŠ¥ ê²°í•©

> vue2.xx ì‚¬ìš© ì‹œ chart.jsë„ 2.xx ì‚¬ìš©
> 
> `npm i chart.js@2.9.4`

<br/>

## ğŸ‘€ ê³µì‹ë¬¸ì„œ
---

> https://www.chartjs.org/docs/latest/getting-started/usage.html

<br/>

```html
<template>
  <div>
    <h1>Chart.js</h1>
    <canvas id="myChart" width="400" height="400"></canvas>
  </div>
</template>

<script>
// package.jsonì— ì„¤ì¹˜ë˜ì–´ ìˆëŠ” ì´ë¦„ê³¼ ë™ì¼í•´ì•¼ í•¨. (vue cli ì›¹íŒ©ìœ¼ë¡œ ëŒì•„ê°)
import Chart from "chart.js";

// vueëŠ” ì‹±ê¸€íŒŒì¼ ì»´í¬ë„ŒíŠ¸ë¡œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— export default ì§€ìš°ë©´ ì•ˆë¨.
export default {
  // ì»´í¬ë„ŒíŠ¸ ì†ì„± && ì¸ìŠ¤í„´ìŠ¤ ì˜µì…˜
  // document.getElementById(ì¿¼ë¦¬ì ‘ê·¼ì) ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì—,
  // ì¸ìŠ¤í„´ìŠ¤ê°€ í™”ë©´ì— ë¶™ì€ ë‹¤ìŒì— ì“°ëŠ” mounted ì†ì„± ì‚¬ìš© í•˜ë©´ ëœë‹¤.
  mounted() {
    const ctx = document.getElementById("myChart");
    const myChart = new Chart(ctx, {
      type: "bar",
      data: {
        labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
        datasets: [
          {
            label: "# of Votes",
            data: [12, 19, 3, 5, 2, 3],
            backgroundColor: [
              "rgba(255, 99, 132, 0.2)",
              "rgba(54, 162, 235, 0.2)",
              "rgba(255, 206, 86, 0.2)",
              "rgba(75, 192, 192, 0.2)",
              "rgba(153, 102, 255, 0.2)",
              "rgba(255, 159, 64, 0.2)",
            ],
            borderColor: [
              "rgba(255, 99, 132, 1)",
              "rgba(54, 162, 235, 1)",
              "rgba(255, 206, 86, 1)",
              "rgba(75, 192, 192, 1)",
              "rgba(153, 102, 255, 1)",
              "rgba(255, 159, 64, 1)",
            ],
            borderWidth: 1,
          },
        ],
      },
      options: {
        scales: {
          y: {
            beginAtZero: true,
          },
        },
      },
    });
  },
};
</script>

<style>
</style>
```

<br/>
<br/>

## ğŸ“² ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸í™”
---

`components` ë””ë ‰í† ë¦¬ì— `BarChart.vue` íŒŒì¼ ìƒì„±

```html
<template>
  <canvas id="myChart" width="400" height="400"></canvas>
</template>

<script>
import Chart from "chart.js";

export default {
  mounted() {
    const ctx = document.getElementById("myChart");
    const myChart = new Chart(ctx, {
      type: "bar",
      data: {
        labels: ["Red", "Blue", "Yellow", "Green", "Purple", "Orange"],
        datasets: [
          {
            label: "# of Votes",
            data: [12, 19, 3, 5, 2, 3],
            backgroundColor: [
              "rgba(255, 99, 132, 0.2)",
              "rgba(54, 162, 235, 0.2)",
              "rgba(255, 206, 86, 0.2)",
              "rgba(75, 192, 192, 0.2)",
              "rgba(153, 102, 255, 0.2)",
              "rgba(255, 159, 64, 0.2)",
            ],
            borderColor: [
              "rgba(255, 99, 132, 1)",
              "rgba(54, 162, 235, 1)",
              "rgba(255, 206, 86, 1)",
              "rgba(75, 192, 192, 1)",
              "rgba(153, 102, 255, 1)",
              "rgba(255, 159, 64, 1)",
            ],
            borderWidth: 1,
          },
        ],
      },
      options: {
        scales: {
          y: {
            beginAtZero: true,
          },
        },
      },
    });
  },
};
</script>

<style>
</style>
```

<br/>

`App.vue` ì— BarChart import

```html
<template>
  <div>
    <h1>Chart.js</h1>
    <bar-chart></bar-chart>
  </div>
</template>

<script>
import BarChart from "./components/BarChart.vue";

export default {
  // ì»´í¬ë„ŒíŠ¸ ì†ì„± && ì¸ìŠ¤í„´ìŠ¤ ì˜µì…˜
  components: {
    BarChart,
  },
};
</script>

<style>
</style>
```

<br/>
<br/>

## ğŸ“‰ ë¼ì¸ì°¨íŠ¸ ì¶”ê°€
---

> ë¼ì¸ì°¨íŠ¸
>
> https://www.chartjs.org/docs/latest/getting-started/

<br/>

`/components/LineChart.vue` íŒŒì¼ ìƒì„±

```html
<template>
  <div>
    <canvas id="lineChart"></canvas>
  </div>
</template>

<script>
import Chart from "chart.js";

export default {
  mounted() {
    const labels = ["January", "February", "March", "April", "May", "June"];

    const data = {
      labels: labels,
      datasets: [
        {
          label: "My First dataset",
          backgroundColor: "rgb(255, 99, 132)",
          borderColor: "rgb(255, 99, 132)",
          data: [0, 10, 5, 2, 20, 30, 45],
        },
      ],
    };

    const config = {
      type: "line",
      data: data,
      options: {},
    };
    // const lineChart = new Chart(document.getElementById("lineChart"), config); // js
    const lineChart = new Chart(this.$refs.lineChart, config); // vue
  },
};
</script>

<style>
</style>
```

> lineì°¨íŠ¸ barì°¨íŠ¸ ëª¨ë‘ myChart ë¼ëŠ” ì´ë¦„ì˜ ì»´í¬ë„ŒíŠ¸ë¡œ ë˜ì–´ìˆê¸° ë•Œë¬¸ì—
> 
> ê°ê°ì˜ ì´ë¦„ì„ lineChart / barChartë¡œ ë°”ê¿”ì¤€ë‹¤.

`BarChart.vue`
```html
<template>
  <canvas id="barChart" width="400" height="400"></canvas>
</template>

<script>
import Chart from "chart.js";

export default {
  mounted() {
    // const ctx = document.getElementById("barChart"); // js ì„ íƒì
    const barChart = new Chart(this.$refs.barChart, { // refsë¡œ ë°”ë¡œ dom ì ‘ê·¼
      // ...
    }):
  },
};
</script>
```

<br/>

`App.vue`
```html
<template>
  <div>
    <h1>Chart.js</h1>
    <bar-chart></bar-chart>
    <line-chart></line-chart>
  </div>
</template>

<script>
import BarChart from "./components/BarChart.vue";
import LineChart from "./components/LineChart.vue";

export default {
  // ì»´í¬ë„ŒíŠ¸ ì†ì„± && ì¸ìŠ¤í„´ìŠ¤ ì˜µì…˜
  components: {
    BarChart,
    LineChart,
  },
};
</script>

<style>
</style>
```

<br/>
<br/>

## ğŸˆ Vueì—ì„œ DOM ì ‘ê·¼
---

```html
<body>
  <div id="app" ref="app">hello</div>

  <script>
    // ë” ì ‘ê·¼ ë°©ì‹ (ID ì„ íƒì)

    // JS 
    var divElement = document.getElementById('app');
    var divElement = document.querySelector('#app');

    // JQuery
    var divElement = $('#app');

    // Vue.js  (íƒœê·¸ì— ref ì†ì„± ì¶”ê°€í•´ì„œ ì ‘ê·¼)
    var divElement = this.$refs.app;
  </script>
</body>
```

> ğŸ“Œ ë ˆí¼ëŸ°ìŠ¤ ì†ì„± ì´ì 
> 
> *`refs` ì†ì„±ì€ ê°ê°ì˜ ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ì ‘ê·¼ìì´ë‹¤.*
> 
> ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ì˜ ê°œë°œì—ì„œëŠ” ë ˆí¼ëŸ°ìŠ¤ ì†ì„± ì‚¬ìš©í•˜ëŠ”ê²Œ ìœ ë¦¬
> 
> > `document.getElementById`ëŠ” í™”ë©´ì—ì„œ ê·¸ë ¤ì§„ ëª¨ë“  DOMì— ì ‘ê·¼í•˜ê¸° ë•Œë¬¸ì— ì¶©ëŒë‚  í™•ë¥ ì´ ë†’ë‹¤.

<br/>
<br/>

## ğŸº ì°¨íŠ¸ í”ŒëŸ¬ê·¸ì¸ ì œì‘
---

*ì¸ìŠ¤í„´ìŠ¤ê°€ ìƒì„± ëì„ ë•Œ, ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì— ì‚¬ìš©í•˜ê³  ì‹¶ì€ ê¸°ëŠ¥ì„ ì •ì˜í•˜ëŠ” ê²ƒ.*

`Vue.use()` ëŠ” ë·°ì—ì„œ ì œê³µí•œ í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•œ í˜•íƒœ.

<br/>

> ê° ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸ë“¤ë§ˆë‹¤ chart.js ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì¼ì¼íˆ ë¡œë”©í•´ì˜¤ê³  ìˆìŒ.
>> ë¼ì´ë¸ŒëŸ¬ë¦¬ í”ŒëŸ¬ê·¸ì¸í™” í•´ì„œ ëª¨ë“ˆí™” ê°€ëŠ¥.

<br/>

   1. `/src` ë””ë ‰í† ë¦¬ ë°‘ì— `/plugins` ë””ë ‰í† ë¦¬ ìƒì„±
   2. `/plugins` ë””ë ‰í† ë¦¬ì— `ChartPlugin.js` íŒŒì¼ ìƒì„±

      ```js
      export default {
        install(Vue) {
          console.log('chart plugin loaded');
        }
      }
      ```
  3. `/src/main.js` ì—ì„œ `ChartPlugin.js` ë¡œë”©

      ```js
      import Vue from 'vue'
      import App from './App.vue'
      import ChartPlugin from './plugins/ChartPlugin.js'; // #1

      Vue.config.productionTip = false

      Vue.use(ChartPlugin); // #2

      new Vue({
        render: h => h(App),
      }).$mount('#app')
      ```

<br/>

### ğŸ’» ì ìš©í•˜ê¸°
---

**`ChartPlugin.js`**
```js
import Chart from "chart.js";

export default {
  install(Vue) {
    Vue.prototype.$_Chart = Chart;
    // prototype : jsì—ì„œ ê°ì²´ ì†ì„± í™•ì¥í•˜ëŠ” ê²ƒ

    // ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸ë“¤ì— ì•„ë˜ ë¬¸ë²•ìœ¼ë¡œ ì ìš©.
    // // BarChart.vue
    // this.$_Chart

    // // LineChart.vue
    // this.$_Chart

    // '$_' ë·° ìŠ¤íƒ€ì¼ê°€ì´ë“œì—ì„œ ê³µì‹ìœ¼ë¡œ ê¶Œê³ í•˜ëŠ” 
    // í”ŒëŸ¬ê·¸ì¸ì˜ ì†ì„± ë˜ëŠ” í•¨ìˆ˜ì˜ í”„ë¦¬í”½ìŠ¤(ì ‘ë‘ì‚¬)
  }
} 
```

**`main.js`**
```js
import Vue from 'vue'
import App from './App.vue'
import ChartPlugin from './plugins/ChartPlugin.js';

Vue.config.productionTip = false

// install(); ì†ì„±í•¨ìˆ˜ê°€ ì‹¤í–‰ë¨. 
// this.$_Chart ì–´ë””ì„œë“  ì‚¬ìš©ê°€ëŠ¥
Vue.use(ChartPlugin);

new Vue({
  render: h => h(App),
}).$mount('#app')
```

**`BarChart.vue`**
```html
<template>
  <canvas ref="barChart" id="barChart" width="400" height="400"></canvas>
</template>

<script>
// import Chart from "chart.js";
// pluginì²˜ë¦¬

export default {
  mounted() {
    // $_Chart ë¡œ í”ŒëŸ¬ê·¸ì¸ ë¡œë“œ
    // const barChart = new Chart(this.$refs.barChart, {
    const barChart = new this.$_Chart(this.$refs.barChart, {
      // ...
    });
  },
};
</script>
```

<br/>
<br/>

## ğŸ ê²°í•©ë ¥ ë†’ì€ ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸ ëª¨ë“ˆ
---

ì»´í¬ë„ŒíŠ¸ í†µì‹ ì„ ì´ìš©í•œ ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸ ê¸°ëŠ¥ ê²°í•©

- chart.js ì—ì„œ ì œê³µí•˜ëŠ” ì†ì„±ì˜ ê·œì¹™ë“¤ì´ ì§„í–‰í•˜ëŠ” í”„ë¡œì íŠ¸ ë°©í–¥ê³¼ ë‹¤ë¥¼ ìˆ˜ ìˆë‹¤.
- ë¼ì´í”„ì‚¬ì´í´í›…ì— ë”°ë¼ ë°›ì€ ë°ì´í„°ë¥¼ ì°¨íŠ¸ì»´í¬ë„ŒíŠ¸ì— ë‚´ë ¤ì¤˜ì•¼(props) í•œë‹¤.
- ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë°›ì•„ì˜¨ ë°ì´í„°ë¥¼ ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸ props ì†ì„±ì„ ì´ìš©í•´ í™”ë©´ì— ë¿Œë¦°ë‹¤.
- ë§Œì•½ ì°¨íŠ¸ì—ì„œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ê²½ìš°ì—ëŠ” ì´ë²¤íŠ¸ ë°œìƒì‹œ `$emit('...')` ì„ ì´ìš©í•´ ì˜¬ë ¤ì¤„ ìˆ˜ ìˆë‹¤.
- `vue-chart.js` ë„ ì¡´ì¬.
  - vueì—ì„œ ê²°í•©ë ¥ìˆê²Œ `chart.js`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë©í•‘í•´ ë†“ìŒ.

> props, event emitì„ ì´ìš©í•˜ë©´ ì°¨íŠ¸ì˜ ë‚´ìš©ë“¤ê³¼ ì°¨íŠ¸ë¥¼ ë“±ë¡í•œ ì»´í¬ë„ŒíŠ¸ì™€ ì£¼ê³ ë°›ëŠ” ë¡œì§ë“¤ì´ ë” ë§ì•„ì§€ê³ , ì°¨íŠ¸ê°€ ê²°í•©ë ¥ìˆê²Œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ê³¼ ì˜ ë§ë¬¼ë ¤ì„œ ëŒì•„ê°ˆ ìˆ˜ ìˆë‹¤. 