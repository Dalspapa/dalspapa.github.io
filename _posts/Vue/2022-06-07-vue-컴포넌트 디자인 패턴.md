# Component Design Patterns
---

1. Common - ê¸°ë³¸ì ì¸ ì»´í¬ë„ŒíŠ¸ ë“±ë¡ê³¼ ì»´í¬ë„ŒíŠ¸ í†µì‹ 
2. Slot - ë§ˆí¬ì—… í™•ì¥ì´ ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸
3. Controlled - ê²°í•©ë ¥ì´ ë†’ì€ ì»´í¬ë„ŒíŠ¸
4. Renderless - ë°ì´í„° ì²˜ë¦¬ ì»´í¬ë„ŒíŠ¸ 

<br/>
<br/>

## ğŸ• Common Approach

*vue.jsì˜ ê¸°ë³¸ì ì¸ ì»´í¬ë„ŒíŠ¸ ì„¤ê³„ ë°©ì‹*

<br/>

### ğŸº **One Way Data Flow**
---

*ì»´í¬ë„ŒíŠ¸ê°„ ë³µì¡í•œ n:n ë°ì´í„° í†µì‹ ë°©ì‹ì„ ì‚¬ìš©ì‹œ ì»¨íŠ¸ë¡¤ì´ ì–´ë µê¸° ë•Œë¬¸ì— ì¼ê´€ì ì¸ íŒ¨í„´ìœ¼ë¡œ êµ¬ì¡°í™” í•œë‹¤.*

<br/>

`App.vue` ì—ì„œ `AppHeader.vue` ì™€ `AppContent.vue`ë¡œ ë°ì´í„°ë¥¼ ë‚´ë ¤ì£¼ê³ , ì—”ë“œí¬ì¸íŠ¸(**í”„ë¦¬ì  í…Œì´ì…”ë„ ì»´í¬ë„ŒíŠ¸**)ì—ì„œ ì¡°ì‘ì´ ìˆì„ ê²½ìš°, ì´ë²¤íŠ¸ë¥¼ **ì»¨í…Œì´ë„ˆ ì»´í¬ë„ŒíŠ¸**ì— ì˜¬ë ¤ì¤€ë‹¤.

> Container Component : App.vue 
> 
> Presentational Component : AppHeader.vue AppContent.vue

<br/>
<br/>

### âŒ¨ CODE
---

**`App.vue`**
```html
<template>
  <div>
    <app-header :title="appTitle"></app-header>
    <app-content :items="items" @renew="renewItems"></app-content>
  </div>
</template>

<script>
import AppHeader from './components/AppHeader.vue';
import AppContent from './components/AppContent.vue';

export default {
  components: {
    AppHeader,
    AppContent,
  },
  data() {
    return {
      appTitle: 'Common Approach',
      items: [10, 20, 30],
    }
  },
  methods: {
    renewItems() {
      this.items = [40, 50, 60];
    },
  },
}
</script>
```

<br/>

**`AppHeader.vue`**
```html
<template>
  <header>
    <h1>{{ title }}</h1>
  </header>
</template>

<script>
export default {
  // ì¼ë°˜ì ì¸ props ì„ ì–¸ë°©ì‹
  // props: ['title'],

  // props validation ë¬¸ë²•
  // ì»´í¬ë„ŒíŠ¸ê°„ì— ì£¼ê³  ë°›ëŠ” ë°ì´í„°ì˜ ìœ íš¨ì„± ê²€ì‚¬ í•„ìš”ì‹œ ì‚¬ìš©
  // type, required(í•„ìˆ˜ë¡œ ë„˜ê²¨ì•¼í•˜ëŠ” ì†ì„±) ì„¤ì • ê°€ëŠ¥
  props: {
    title: String,
  },
};
</script>
```

<br/>

**`AppContent`**
```html
<template>
  <div>
    <ul>
      <li v-for="item in items" :key="item">
        {{ item }}
      </li>
    </ul>
    <button @click="$emit('renew')">renew items</button>
    <!-- @click="$emit('renew')" -->
    <!-- ìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ì´ë²¤íŠ¸ë¥¼ ë°”ë¡œ ì˜¬ë ¤ë³´ë‚¼ ìˆ˜ë„ ìˆìŒ -->
  </div>
</template>

<script>
export default {
  props: {
    items: {
      type: Array,
      required: true,
      // props validation ë¬¸ë²•
      // itemì€ ë¬´ì¡°ê±´ Arrayë¡œ ë“¤ì–´ì™€ì•¼ í•œë‹¤ê³ 
      // vue.jsê°€ ì—ëŸ¬ ë¡œê·¸ë¥¼ ì•Œë ¤ì¤Œ.
    },

    // ê¸°ì¡´ ì´ë²¤íŠ¸ ì—ë°‹ ì²˜ë¦¬
    // í…œí”Œë¦¿ íƒœê·¸ ì†ì„± ì´ìš©í•´ ì²˜ë¦¬ê°€ëŠ¥
    // methods: {
    //   sendRenew() {
    //     this.$emit("renew");
    //   },
    // },
  },
};
</script>
```

<br/>
<br/>
<br/>

## ğŸ• Controlled Component
---

**`App.vue`**
```html
<template>
  <!-- <check-box :checked="checked"></check-box> -->
  <!-- CheckBox.vueì—ì„œ propsë¡œ ë‚´ë¦° valueë¥¼ v-modelë¡œ ì—°ê²°. 
  propsë¡œ í•˜ìœ„ì»´í¬ë„ŒíŠ¸ì—ì„œ ê´€ë¦¬í•˜ë˜ ë°ì´í„°ë¥¼ ìƒìœ„ì»´í¬ë„ŒíŠ¸ì—ì„œ ê´€ë¦¬. 
  ì»´í¬ë„ŒíŠ¸ì˜ ë°ì´í„° ì˜ì¡´ì„±ì„ ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ ì´ ë””ìì¸íŒ¨í„´ì˜ í•µì‹¬. 
  ìº˜ë¦°ë”, ëª¨ë‹¬ ê°™ì€ ê°„ë‹¨í•œ ì…ë ¥í¼ ì„¸ë¶€ì ì¸(ì‘ì€ë‹¨ìœ„) ì»´í¬ë„ŒíŠ¸ ìª¼ê°¤ ë•Œ ìœ ìš©. -->
  <check-box v-model="checked"></check-box>
</template>

<script>
import CheckBox from "./components/CheckBox.vue";

export default {
  components: {
    CheckBox,
  },
  // data() {
  //   return {
  //     checked: false,
  //   };
  // },
  data() {
    return {
      checkboxes: [],
      checked: false,
    };
  },
};
</script>
```

<br/>

**`CheckBox.vue`**
```html
<template>
  <!-- <input type="checkbox" v-model="checked" /> -->
  <input type="checkbox" :value="value" @click="toggleCheckBox" />
</template>

<script>
export default {
  // props: ['checked],

  // v-modelì€
  // @input ì´ë²¤íŠ¸,
  // :value ê°’
  // ìœ¼ë¡œ ì¡°ì‘ ë¨.

  props: ["value"], // v-model value(false)ë¡œ ë‚´ë ¤ì¤Œ.
  methods: {
    toggleCheckBox() {
      // emit ìœ¼ë¡œ inputì´ë²¤íŠ¸ ì˜¬ë ¤ì¤Œ
      this.$emit("input", !this.value); // í´ë¦­í•˜ëŠ” ìˆœê°„ true
    },
  },
};
</script>
```

<br/>
<br/>
<br/>

## ğŸ• Rederless Component
---

- templateì´ ì—†ëŠ” ì»´í¬ë„ŒíŠ¸ 
- í‘œí˜„ì„ í•˜ì§€ ì•ŠëŠ” ì»´í¬ë„ŒíŠ¸
- ë°ì´í„° ì œê³µë§Œ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ (Data Provider)

<br/>

### ğŸº Render Function
---

**`ê¸°ë³¸ ë¬¸ë²•`**
```js
render: function (createElement) {
  return createElement('p', this.message);
}
```
> *ê¸°ë³¸ì ìœ¼ë¡œ `createElement`ë¥¼ ì¸ìë¡œ ë°›ìŒ.*

<br/>

**`render.html`**
```html
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Render Function</title>
</head>

<body>
  <div id="app">
    <!-- ì¸ìŠ¤í„´ìŠ¤ ì˜ì—­ -->
    <!--p>{{ message }}</p-->
  </div>

  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script>
    new Vue({
      el: '#app',
      data: {
        message: 'Hello Vue',
      },

      // templateì†ì„± ì´ìš©
      // template: '<p>{{ message }}</p>',

      // templateì„ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‚´ë¶€ì ìœ¼ë¡œ êµ¬í˜„í•´ì£¼ëŠ” render: function ì´ìš©
      render: function (createElement) {
        return createElement('p', this.message);
      }
    })
  </script>
</body>

</html>
```

<br/>
<br/>

### ğŸº Virtual Dom
---

- vue.jsëŠ” ë²„ì¸„ì–¼ ë” ì‚¬ìš©.
- ë²„ì¸„ì–¼ ë”ì—ì„œ ê°€ì¥ ë§ì´ ì“°ì´ëŠ” ê²ƒì´ í•˜ì´í¼ìŠ¤í¬ë¦½íŠ¸(h)
- h(í•˜ì´í¼ìŠ¤í¬ë¦½íŠ¸) : ë²„ì¸„ì–¼ë”ì„ ì§€ì¹­í•˜ëŠ” ìš©ì–´.
- createElementë¥¼ hë¡œ ì¶•ì•½í•´ì„œ ì‚¬ìš©.

<br/>

**`main.js`**
```js
import Vue from 'vue'
import App from './App.vue'

Vue.config.productionTip = false

new Vue({
  render: h => h(App),
  /*
  // render ëª¨ì–‘ì´ ì™œ ì €ë ‡ê²Œ ë˜ì—ˆëŠ”ì§€ì˜ ê³¼ì •  
  // 1
  render: function(createElement) {
    return createElement(App);
  },
  // 2
  render: function(h) {
    return h(App);
  },
  // 3
  render: (h) => {
    return h(App);
  },
  // 4
  render: h => h(App),
  */
}).$mount('#app')
```

<br/>
<br/>

### ğŸº Rederless Component êµ¬í˜„í•˜ê¸°
---

**`App.vue`**
```html
<template>
  <div>
    <fetch-data url="https://jsonplaceholder.typicode.com/users/1">
      <!-- ... -->
      <div v-slot="{ response, loading }">
        <div v-if="!loading">
          <p>name: {{ response.name }}</p> 
          <p>email: {{ response.email }}</p>
        </div>
        <div v-if="loading">
          Loading...
        </div>
      </div>
    </fetch-data>
  </div>
</template>

<script>
import FetchData from './components/FetchData.vue'

export default {
  components: {
    FetchData
  },
}
</script>
```

<br/>

**`/components/FetchData.vue`**
```js
<script>
import axios from 'axios';

export default {
  props: ['url'],
  data() {
    return {
      response: null,
      loading: true,
    }
  },
  created() {
    axios.get(this.url)
      .then(response => {
        this.response = response.data;
        this.loading = false;
      })
      .catch(error => {
        alert('[ERROR] fetching the data', error);
        //console.log(error);
      });
  },
  /*
  render: function(createElement) {
    return createElement('íƒœê·¸ ì´ë¦„', 'íƒœê·¸ ì†ì„±', 'í•˜ìœ„ íƒœê·¸ ë‚´ìš©');
  }
  */
  render() {
    return this.$scopedSlots.default({
      response: this.response,
      loading: this.loading,
    });
  },
}
</script>
```