# 컴퓨터 구조

<br/>

## 하드웨어
---

*눈으로 보이고, 손으로 만질 수 있는 물리적인 장치*
- ex) 모니터, 키보드, 프린터, 컴퓨터 본체(CPU, 메모리 ...) 등

## 소프트웨어
---

- 운영체제 (OS) 
  - 커널
  - 시스템 프로그램 
    - ex) Shell
- 응용 프로그램

<br/>

## 커널
---

*컴퓨터 자원을 관리하는 운영체제의 핵심 부분*
- 항상 컴퓨터 자원들만 바라보고 있음
- 사용자와의 상호작용 지원 X

<br/>

## 시스템 프로그램
---

*사용자와 직접적인 상호작용을 위해서는 시스템 프로그램이 필요하고,*

*이러한 이유에서 운영체제는 커널 뿐만 아니라 시스템 프로그램을 함께 제공*

- 대표적인 시스템 프로그램은 쉘(Shell) 이라는 명령어 해석기
- 쉘은 사용자가 컴퓨터에게 전달하는 명령을 해석하는 프로그램
- 사용자와의 상호작용 가능

<br/>
<br/>

# 리눅스 커널 구조

*커널의 가장 큰 역할은 컴퓨터의 물리적(=하드웨어) 자원과 추상화 자원을 관리 하는 것*

<br/>

## 추상화
---

*물리적으로 하나 뿐인 하드웨어를 여러 사용자들이 번갈아 사용하게 중재함으로서,*

*마치 한 개의 하드웨어가 여러개인 것처럼 보여지도록 하는 기술*

- 추상화된 환경에서 각 사용자들은 본인이 하나의 하드웨어를 독점하여 활용 하는 것 처럼 느낌
- 커널은 하나의 하드웨어 자원을 여러 사용자들을 위한 복수개의 추상화된 객체로 관리

<br/>

## 물리적 / 추상적 자원 대응 관계
---

> CPU 
> > -> 태스크(task)

> 메모리 
> > -> 페이지(page), 세그먼트(segment)

> 디스크 
> > -> 파일(file)

> 네트워크 
> > -> 소켓(socket)

> 그 밖에 커널이 관리하는 자원 
> > 외부장치 (ex. 프린터, GPU 등) 

<br/>

## 커널 구성 자원관리자
---

1. **태스크(Task) 관리자**
   - 물리적 자원인 CPU를 추상적 자원인 태스크로 제공 

2. **메모리(Memory) 관리자**
   - 물리적 자원인 메모리를 추상적 자원인 페이지나 세그먼트로 제공

3. **파일 시스템(File System) 관리자**
   - 물리적 자원인 디스크를 추상적 자원인 파일로 제공

4. **네트워크(Network) 관리자**
   - 물리적 자원인 네트워크 장치를 추상적 자원인 소켓으로 제공

5. **디바이스 드라이버(Device Driver) 관리자**
   - 각종 외부 장치에대한 접근 

<br/>

## ❓ 커널의 자원관리 이유
---

*사용자가 물리적인 하드웨어에 접근하고 사용할 수 있도록 매개하기 위해.*
  
- 컴퓨터 구성요소들은 컴퓨터만의 언어와 규칙으로 하드웨어에 접근하고 통신.
  - 일반적인 사람들은 이러한 컴퓨터 세계의 언어와 규칙을 모름.
  - 커널이 이를 중간에서 돕는 역할.

<br/>

- **Kernel Space** : 커널 구성요소들이 존재하는 공간.
- Kernel Space위에 사용자로 여겨지는 태스크(User Space, process) 들 존재.
  - **task** : 컴퓨팅 언어로 작성된 프로그램 파일 / 사용자 명령 담겨있음

<br/>


- **System Call Interface** :  Kernel Space와 User Space 사이에 존재
  1. User Space의 task들이 커널이 관리하는 자원에 접근해야할 필요가 있으면,
  2. System Call Interface를 통해 Kerenel Space의 자원 관리자에게 요청이 전달 됨.
  3. 이 커널의 각 자원 관리자는 사용자 요청에 맞게 알맞는 하드웨어에 사용자 명령을 전달하고 작업을 수행 함.

<br/>

➡ ***커널은 '사용자가 system call을 통해 컴퓨터 자원을 사용할 수 있게해주는 자원 관리자'***